execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:wooden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run data merge entity @e[type=item,sort=nearest,limit=1,nbt={OnGround:1b,Item:{id:"minecraft:wooden_pickaxe"}}] {Item:{id:"minecraft:wooden_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:silk_touch",lvl:1}]}}}
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:wooden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run playsound minecraft:block.anvil.use block @a ~ ~ ~ 1 1.2 1
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:wooden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run kill @e[type=item,sort=nearest,limit=1,nbt={Item:{Count:1b,id:"minecraft:emerald"}}]

execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:golden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run data merge entity @e[type=item,sort=nearest,limit=1,nbt={OnGround:1b,Item:{id:"minecraft:golden_pickaxe"}}] {Item:{id:"minecraft:golden_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:silk_touch",lvl:1}]}}}
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:golden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run playsound minecraft:block.anvil.use block @a ~ ~ ~ 1 1.2 1
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:golden_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run kill @e[type=item,sort=nearest,limit=1,nbt={Item:{Count:1b,id:"minecraft:emerald"}}]

execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:stone_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run data merge entity @e[type=item,sort=nearest,limit=1,nbt={OnGround:1b,Item:{id:"minecraft:stone_pickaxe"}}] {Item:{id:"minecraft:stone_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:silk_touch",lvl:1}]}}}
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:stone_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run playsound minecraft:block.anvil.use block @a ~ ~ ~ 1 1.2 1
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:stone_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run kill @e[type=item,sort=nearest,limit=1,nbt={Item:{Count:1b,id:"minecraft:emerald"}}]

execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:iron_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run data merge entity @e[type=item,sort=nearest,limit=1,nbt={OnGround:1b,Item:{id:"minecraft:iron_pickaxe"}}] {Item:{id:"minecraft:iron_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:silk_touch",lvl:1}]}}}
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:iron_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run playsound minecraft:block.anvil.use block @a ~ ~ ~ 1 1.2 1
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:iron_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run kill @e[type=item,sort=nearest,limit=1,nbt={Item:{Count:1b,id:"minecraft:emerald"}}]

execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:diamond_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run data merge entity @e[type=item,sort=nearest,limit=1,nbt={OnGround:1b,Item:{id:"minecraft:diamond_pickaxe"}}] {Item:{id:"minecraft:diamond_pickaxe",Count:1b,tag:{Enchantments:[{id:"minecraft:silk_touch",lvl:1}]}}}
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:diamond_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run playsound minecraft:block.anvil.use block @a ~ ~ ~ 1 1.2 1
execute as @e[type=item,nbt={OnGround:1b,Item:{id:"minecraft:diamond_pickaxe"}}] at @s if block ~ ~-1 ~ minecraft:smithing_table if entity @e[type=item,distance=..1,sort=nearest,limit=1,nbt={OnGround:1b,Item:{Count:1b,id:"minecraft:emerald"}}] run kill @e[type=item,sort=nearest,limit=1,nbt={Item:{Count:1b,id:"minecraft:emerald"}}]